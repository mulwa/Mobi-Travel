<!-- 
  - @author    ThemesBuckets <themebucketbd@gmail.com>
  - @copyright Copyright (c) 2018
  - @license   Fulcrumy
-->
<!-- Header  -->
<ion-header no-border>
  <header-two title="Bus Details"></header-two>
</ion-header>

<!-- Content  -->
<ion-content>
    <ion-grid>
        <ion-row>
          <ion-col col-6 class="bal-section" *ngIf="from_name !== null">
            <h2>From</h2>
            <h4>{{from_name}}</h4>
           </ion-col>
          <ion-col col-6 class="bal-section" *ngIf="to_name !== null">
            <h2>To</h2>
            <h4>{{to_name}}</h4>
           </ion-col>
        </ion-row>
      </ion-grid>

      <ion-card *ngIf="seatSelectedForBooking.length > 0">
          <ion-card-content>      
            <ion-item>
              <h4>Ticket Price Summary</h4>        
              <!-- Structural directive - only visible on selection -->
              <div class="font14 marginTB10">
                  <div class="wordWrap">No of Seats: {{seatSelectedForBooking.length}} </div>
                  <div>Ticket Price : {{ticketPrice}} * {{seatSelectedForBooking.length}} = {{currency}}.{{ticketPrice*seatSelectedForBooking.length}} </div>            
              </div>
            </ion-item>  
          </ion-card-content>
        </ion-card>

      <ion-grid style="margin-bottom :10x;">
          <ion-row>
            <ion-col  class="title-section" >              
              <h4>{{selected_bus_name}}</h4>
             </ion-col>            
          </ion-row>
        </ion-grid>   
  

  <!-- Booking Summary  --> 
  <div class="seat-section" *ngIf="seatsArray?.length > 0" class="animated fadeIn">    
    <!-- 49 seater format -->
    <ion-grid class="animated fadeIn" *ngIf="seater === '49'" class="animated fadeIn">
        <ion-row align-items-end >
          <ion-col> 
            <ion-grid>
              <ion-row *ngFor="let item of first_row">
                <ion-col class="inner-col"  [ngClass]="checkIfselected(item)" (click)="seatSelected(item)" [ngStyle]="{'background-color':checkIfselected(item) === 'selected' ? '#FFCC80' : '#e7840a' }">
                  <p>
                    <ion-icon [name]="icon" *ngIf="checkIfAvailable(item) === true"></ion-icon>
                    <ion-icon name="close" *ngIf="checkIfAvailable(item) === false" ></ion-icon> 
                  </p>
                  {{item}}
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>
          <ion-col> 
              <ion-grid>
                <ion-row *ngFor="let item of second_row">
                  <ion-col class="inner-col"  [ngClass]="checkIfselected(item)" (click)="seatSelected(item)"  [ngStyle]="{'background-color':checkIfselected(item) === 'selected' ? '#FFCC80' : '#e7840a' }">
                    <p>
                      <ion-icon name="checkbox-outline" *ngIf="checkIfAvailable(item) ===true"></ion-icon>
                      <ion-icon name="close" *ngIf="checkIfAvailable(item) === false" ></ion-icon> 
                    </p>
                    {{item}}
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
              <ion-col> 
                <ion-grid >
                  <ion-row *ngFor="let item of third_row">
                    <ion-col class="inner-col" (click)="seatSelected(item)" [ngStyle]="{'background-color':checkIfselected(item) === 'selected' ? '#FFCC80' : '#e7840a' }">
                        <p>
                          <ion-icon name="checkbox-outline" *ngIf="checkIfAvailable(item) === true"></ion-icon>
                          <ion-icon name="close" *ngIf="checkIfAvailable(item) === false" ></ion-icon> 
                        </p>
                        {{item}}
                    </ion-col>
                  </ion-row>
              </ion-grid>
              </ion-col>
              <ion-col> 
                  <ion-grid>
                    <ion-row *ngFor="let item of fourth_row" class="inner-col" (click)="seatSelected(item)" [ngStyle]="{'background-color':checkIfselected(item) === 'selected' ? '#FFCC80' : '#e7840a' }">
                      <ion-col>
                          <p>
                            <ion-icon name="checkbox-outline" *ngIf="checkIfAvailable(item) === true"></ion-icon>
                            <ion-icon name="close" *ngIf="checkIfAvailable(item) === false" ></ion-icon> 
                          </p>
                          {{item}}
                        </ion-col>
                    </ion-row>
                  </ion-grid>
              </ion-col>
              <ion-col> 
                  <ion-grid>
                    <ion-row *ngFor="let item of fifth_row">
                      <ion-col class="inner-col" [ngClass]="checkIfselected(item)" (click)="seatSelected(item)" [ngStyle]="{'background-color':checkIfselected(item) === 'selected' ? '#FFCC80' : '#e7840a' }">
                          <p>
                              <ion-icon name="checkbox-outline" *ngIf="checkIfAvailable(item) === true"></ion-icon>
                              <ion-icon name="close" *ngIf="checkIfAvailable(item) === false" ></ion-icon> 
                          </p>
                          {{item}}</ion-col>
                    </ion-row>
                  </ion-grid>
              </ion-col>                                                                       
        </ion-row>           
      </ion-grid>

  
       <!-- 11 seater format -->
    <ion-grid class="animated fadeIn" *ngIf="seater === '11'" class="animated fadeIn">
      <ion-row align-items-center >
        <ion-col>
          <ion-grid>
            <ion-row *ngFor="let seat of first_col">
              <ion-col class="inner-col"  (click)="seatSelected(seat)" [ngStyle]="{'background-color':checkIfselected(seat) === 'selected' ? '#FFCC80' : '#e7840a' }">{{seat}}</ion-col>
            </ion-row>
          </ion-grid>          
        </ion-col> <!--end 1 col-->
        <ion-col>
            <ion-grid>
              <ion-row *ngFor="let seat of second_col">
                <ion-col  class="inner-col"   (click)="seatSelected(seat)" [ngStyle]="{'background-color':checkIfselected(seat) === 'selected' ? '#FFCC80' : '#e7840a' }">{{seat}}</ion-col>                
              </ion-row>
            </ion-grid>          
          </ion-col> <!--end 1 col-->
          <ion-col>
              <ion-grid>
                <ion-row *ngFor="let seat of third_col">
                  <ion-col class="inner-col"  (click)="seatSelected(seat)" [ngStyle]="{'background-color':checkIfselected(seat) === 'selected' ? '#FFCC80' : '#e7840a' }">{{seat}}</ion-col>                  
                </ion-row>
              </ion-grid>          
            </ion-col> <!--end 1 col-->           

      </ion-row> <!--11 seater outer row-->
    </ion-grid>  
    <!-- end 11 seater bus         -->
  </div>
  
</ion-content>

<!-- Footer  -->
<ion-footer>
  <ion-row justify-content-right align-items-right>    
    <ion-col col>
      <button [disabled]="seatSelectedForBooking.length <= 0" ion-button large full no-margin class="custom-btn" (tap)="goToCheckoutPage()">Book Seat</button>
    </ion-col>
  </ion-row>
</ion-footer>